{% extends "layout.html" %}
{% block content %}

<b> {{ player1 }} versus {{ player2 }}, won by {{ winner }} ( {{ game.game_played_time }} )</b>

<p></p>
<a href="/download-game?id={{ game.id }}">Download game as csv</a>

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;}
.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
.tg .tg-ii5f{background-color:#000000;color:#ffffff}
.tg .tg-1bl1{background-color:#bdc3c7}
.tg .tg-rh4c{background-color:#F0F6FA}

</style>
<table class="tg">
  <tr>
    <th class="tg-ii5f">Player</th>
    <th class="tg-ii5f">Roll Type&nbsp;</th>
    <th class="tg-ii5f">Attack Set Number</th>
    <th class="tg-ii5f">Dice Number</th>
    <th class="tg-ii5f">Dice Color</th>
    <th class="tg-ii5f">Dice Result</th>
  </tr>
  {%    set curr_attack_set = tape[0][3] %}
  {%    set row_class = "tg-rh4c" %}
  {%    for roll in tape %}
    {%  set attack_set = roll[3] %}
    {%  if attack_set != curr_attack_set %}
        {% set row_class = "tg-1bl1"  %}
    {%  else %}
        {% set row_class = "tg-rh4c" %}
    {%  endif %}
    {%   set curr_attack_set = roll[3] %}

    <tr>
      <td class="{{ row_class }}">{{  roll[1] }} </td>
      <td class="{{ row_class }}">{{ roll[5] }} </td>
      <td class="{{ row_class }}">{{  roll[3] }} </td>
      <td class="{{ row_class }}">{{ roll[4] }}</td>
      <td class="{{ row_class }}">{{ roll[6] }}</td>
      <td class="{{ row_class }}">{{ roll[7] }}</td>
    </tr>
  {%  endfor %}
</table>
{% endblock %}